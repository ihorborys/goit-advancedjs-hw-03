{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nconst button = document.querySelector('.datetime-btn')\nconst input = document.querySelector('.datetime-input')\nbutton.addEventListener('click',  () => {\n  timer.start()\n\n  button.classList.remove('active')\n  input.classList.add('disable')\n  button.disabled = true;\n  input.disabled = true;\n})\n\nlet userSelectedDate;\n\nalert = function (message) {\n  iziToast.error({\n    title: 'Please choose a date in the future',\n    message: message,\n    position: 'topRight',\n    color: 'red'\n  });\n};\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] <= Date.now()) {\n      alert('');\n      button.classList.remove('active')\n\n    } else {\n      button.classList.add('active')\n      userSelectedDate = selectedDates[0];\n\n      timer.deadline = userSelectedDate;\n    }\n  },\n};\n\nflatpickr(\"#datetime-picker\", options);\n\nconst timer=  {\n  deadline: null,\n  intervalID: null,\n\n  refs: {\n    days: document.querySelector('.js-timer-days'),\n    hours: document.querySelector('.js-timer-hours'),\n    minutes: document.querySelector('.js-timer-minutes'),\n    seconds: document.querySelector('.js-timer-seconds')\n  },\n\n  start() {\n    this.intervalID = setInterval(() => {\n      const diff = this.deadline - Date.now();\n\n      if (diff <= 0) {\n        this.stop();\n        return;\n      }\n\n      const timeComponents = this.getTimeComponents(diff);\n\n      this.refs.days.textContent = this.pad(timeComponents.days);\n      this.refs.hours.textContent = this.pad(timeComponents.hours);\n      this.refs.minutes.textContent = this.pad(timeComponents.minutes);\n      this.refs.seconds.textContent = this.pad(timeComponents.seconds);\n\n    },1000)\n  },\n\n  stop() {\n    clearInterval(this.intervalID)\n\n    input.classList.remove('disable')\n    button.disabled = false;\n    input.disabled = false;\n  },\n\n  getTimeComponents(diff) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(diff / day);\n  // Remaining hours\n  const hours = Math.floor((diff % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((diff % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((diff % day) % hour) % minute) / second);\n\n  return {\n    days,\n    hours,\n    minutes,\n    seconds }\n  },\n\n  pad(value) {\n    return String(value).padStart(2, '0')\n  },\n\n};\n\n"],"names":["button","input","timer","userSelectedDate","message","iziToast","options","selectedDates","flatpickr","diff","timeComponents","days","hours","minutes","seconds","value"],"mappings":"+IAQA,MAAMA,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAQ,SAAS,cAAc,iBAAiB,EACtDD,EAAO,iBAAiB,QAAU,IAAM,CACtCE,EAAM,MAAO,EAEbF,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAM,UAAU,IAAI,SAAS,EAC7BD,EAAO,SAAW,GAClBC,EAAM,SAAW,EACnB,CAAC,EAED,IAAIE,EAEJ,MAAQ,SAAUC,EAAS,CACzBC,EAAS,MAAM,CACb,MAAO,qCACP,QAASD,EACT,SAAU,WACV,MAAO,KACX,CAAG,CACH,EAEA,MAAME,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,CAAC,GAAK,KAAK,IAAG,GAC9B,MAAM,EAAE,EACRP,EAAO,UAAU,OAAO,QAAQ,IAGhCA,EAAO,UAAU,IAAI,QAAQ,EAC7BG,EAAmBI,EAAc,CAAC,EAElCL,EAAM,SAAWC,EAEpB,CACH,EAEAK,EAAU,mBAAoBF,CAAO,EAErC,MAAMJ,EAAQ,CACZ,SAAU,KACV,WAAY,KAEZ,KAAM,CACJ,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,iBAAiB,EAC/C,QAAS,SAAS,cAAc,mBAAmB,EACnD,QAAS,SAAS,cAAc,mBAAmB,CACpD,EAED,OAAQ,CACN,KAAK,WAAa,YAAY,IAAM,CAClC,MAAMO,EAAO,KAAK,SAAW,KAAK,IAAG,EAErC,GAAIA,GAAQ,EAAG,CACb,KAAK,KAAI,EACT,MACD,CAED,MAAMC,EAAiB,KAAK,kBAAkBD,CAAI,EAElD,KAAK,KAAK,KAAK,YAAc,KAAK,IAAIC,EAAe,IAAI,EACzD,KAAK,KAAK,MAAM,YAAc,KAAK,IAAIA,EAAe,KAAK,EAC3D,KAAK,KAAK,QAAQ,YAAc,KAAK,IAAIA,EAAe,OAAO,EAC/D,KAAK,KAAK,QAAQ,YAAc,KAAK,IAAIA,EAAe,OAAO,CAEhE,EAAC,GAAI,CACP,EAED,MAAO,CACL,cAAc,KAAK,UAAU,EAE7BT,EAAM,UAAU,OAAO,SAAS,EAChCD,EAAO,SAAW,GAClBC,EAAM,SAAW,EAClB,EAED,kBAAkBQ,EAAM,CAQxB,MAAME,EAAO,KAAK,MAAMF,EAAO,KAAG,EAE5BG,EAAQ,KAAK,MAAOH,EAAO,MAAO,IAAI,EAEtCI,EAAU,KAAK,MAAQJ,EAAO,MAAO,KAAQ,GAAM,EAEnDK,EAAU,KAAK,MAASL,EAAO,MAAO,KAAQ,IAAU,GAAM,EAEpE,MAAO,CACL,KAAAE,EACA,MAAAC,EACA,QAAAC,EACA,QAAAC,CAAS,CACV,EAED,IAAIC,EAAO,CACT,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC,CAEH"}