{"version":3,"file":"search.js","sources":["../src/js/utils/consts.js","../src/js/services/pixabay-api.js","../src/js/services/izitoast.js","../src/js/utils/render-functions.js","../src/js/handlers/form.js","../src/js/main.js"],"sourcesContent":["const refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  searchInput: document.querySelector('.js-search-input'),\n  gallery: document.querySelector('.js-gallery'),\n  notFoundText: document.querySelector('.js-not-found-text'),\n}\n\nexport {refs};","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '49309172-5f8130b15ef3c43c70e2ee30a';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = 'true';\n\n\nfunction getImages(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: IMAGE_TYPE,\n    orientation: ORIENTATION,\n    safesearch: SAFESEARCH,\n  })\n\n  return fetch(`${BASE_URL}?${params}`)\n    .then(response => {\n      if(!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n}\n\n\nexport {getImages}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst noFoundQuery = () => {\n  iziToast.error({\n    title: `❌ Please, enter a query!`,\n    message: '',\n    position: 'topCenter',\n    color: 'red',\n    icon: \"\"\n  });\n};\n\nconst noFoundImages = () => {\n  iziToast.error({\n    title: `❌ Sorry, there are no images matching your search query. Please try again!`,\n    message: '',\n    position: 'topCenter',\n    color: 'red',\n    icon: \"\"\n  });\n};\n\n\nexport {noFoundImages, noFoundQuery};","import SimpleLightbox from \"simplelightbox\";\n\n\nfunction createCardsMarkup(images)  {\n  return images\n    .map(\n      ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>\n    `<li class=\"gallery-card\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n        class=\"gallery-img\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\">\n      </a>\n    </li>`\n  )\n    .join('')\n}\n\n\nnew SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 1});\n\n\nexport {createCardsMarkup}","import { getImages } from '../services/pixabay-api.js';\nimport { noFoundImages, noFoundQuery } from '../services/izitoast.js';\nimport { createCardsMarkup } from '../utils/render-functions.js';\nimport { refs } from '../utils/consts.js';\n\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  const userQuery = form.elements.user_query.value.trim();\n  if(!userQuery) {\n    return noFoundQuery();\n  }\n\n  getImages(userQuery)\n    .then(images => {\n      if(!images.total) {\n        return noFoundImages();\n      }\n      refs.gallery.innerHTML = createCardsMarkup(images.hits);\n  })\n    .catch(error => {\n      console.log(error);\n    });\n\n  form.reset()\n}\n\n\nexport {handleSearch};","import {refs} from './utils/consts.js';\nimport {handleSearch} from './handlers/form.js';\n\n\nrefs.searchForm.addEventListener('submit', handleSearch);\n\n"],"names":["refs","BASE_URL","API_KEY","IMAGE_TYPE","ORIENTATION","SAFESEARCH","getImages","query","params","response","noFoundQuery","iziToast","noFoundImages","createCardsMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","handleSearch","event","form","userQuery","error"],"mappings":"iyBAAA,MAAMA,EAAO,CACX,WAAY,SAAS,cAAc,iBAAiB,EACpD,YAAa,SAAS,cAAc,kBAAkB,EACtD,QAAS,SAAS,cAAc,aAAa,EAC7C,aAAc,SAAS,cAAc,oBAAoB,CAC3D,ECLMC,EAAW,2BACXC,EAAU,qCACVC,EAAa,QACbC,EAAc,aACdC,EAAa,OAGnB,SAASC,EAAUC,EAAO,CACxB,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKN,EACL,EAAGK,EACH,WAAYJ,EACZ,YAAaC,EACb,WAAYC,CAChB,CAAG,EAED,OAAO,MAAM,GAAGJ,CAAQ,IAAIO,CAAM,EAAE,EACjC,KAAKC,GAAY,CAChB,GAAG,CAACA,EAAS,GACX,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,CACL,CCpBA,MAAMC,EAAe,IAAM,CACzBC,EAAS,MAAM,CACb,MAAO,2BACP,QAAS,GACT,SAAU,YACV,MAAO,MACP,KAAM,EACV,CAAG,CACH,EAEMC,EAAgB,IAAM,CAC1BD,EAAS,MAAM,CACb,MAAO,6EACP,QAAS,GACT,SAAU,YACV,MAAO,MACP,KAAM,EACV,CAAG,CACH,ECnBA,SAASE,EAAkBC,EAAS,CAClC,OAAOA,EACJ,IACC,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACxE;AAAA,sCACkCL,CAAa;AAAA;AAAA;AAAA,eAGpCD,CAAY;AAAA,eACZE,CAAI;AAAA;AAAA,UAGhB,EACE,KAAK,EAAE,CACZ,CAGA,IAAIK,EAAe,gBAAiB,CAClC,aAAc,MACd,aAAc,IACd,eAAgB,CAAC,CAAC,ECjBpB,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAYD,EAAK,SAAS,WAAW,MAAM,OACjD,GAAG,CAACC,EACF,OAAOhB,EAAY,EAGrBJ,EAAUoB,CAAS,EAChB,KAAKZ,GAAU,CACd,GAAG,CAACA,EAAO,MACT,OAAOF,EAAa,EAEtBZ,EAAK,QAAQ,UAAYa,EAAkBC,EAAO,IAAI,CAC5D,CAAG,EACE,MAAMa,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAEHF,EAAK,MAAO,CACd,CCvBAzB,EAAK,WAAW,iBAAiB,SAAUuB,CAAY"}